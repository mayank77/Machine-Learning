function [y1] = myNeuralNetworkFunction11(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 21-Oct-2016 17:39:28.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx50 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.285714285714286;0.5;0.4;0.4;0.5;0.5;0.5;0.5;0.5;0.666666666666667;0.666666666666667;0.666666666666667;0.5;0.666666666666667;1;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;1;1;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;0.666666666666667;1;1;0.666666666666667;1;1;1;1;0.666666666666667;1;1;0.666666666666667;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-5.1771413289476405;0.77062112621133116;10.929596426553422;10.664543395174734;7.7771958994784818;0.042801536523848271;-3.1611548928143192;-44.50614590081701];
IW1_1 = [-1.8919413710882047 -1.125516570122628 0.52735611279265671 -4.8015127911693174 0.18217591504341307 0.60115345273882825 7.0669885673533397 1.7221324811668575 1.1757754782471779 -0.2314089288025874 -1.0923979125672871 0.85693482000153332 2.7992835096913278 -1.7845323074057355 0.38123391527345796 0.25166988381208416 1.8850777294167804 -1.5678655357136422 -3.2544486337247833 0.043167264623180782 -3.4398180676245955 -2.2496425970904492 -0.73889803340881355 1.5734341401879905 1.0479843917173428 3.8580929528582892 1.9069881026445734 -0.61836931745342683 3.5577098985883904 -0.81706582133309114 -6.2195209462799088 0.21024217731766781 3.7207990325067271 -0.51505508161502389 -1.7354507871157689 -1.4218101298766488 0.86670013315196015 2.5438649229179182 -5.6707244892368571 -0.5969438666233049 0.43478604879474841 -2.1138995287119906 0.54516968306063229 0.28260958648345236 -3.1371888153774625 0.85684582541777432 1.7926821234773642 -0.099064426593184318 -1.6795854333791576 -0.72580538321561661;0.46949723906052276 1.0546400244167975 2.8016556626615516 0.70216981055329875 -2.0347696889212603 0.60630662841128036 1.0793604842165536 -2.5892901383592428 0.093402363501688443 1.2543777802590899 -0.91967842048188397 -3.8095290047478367 0.45830473053310095 1.088035723586819 -2.4137569737032445 -1.6506822933737086 0.14427936599904018 -1.0896945008628856 -0.89526232184041543 -1.2224493140770605 -2.6059065796333907 0.34850368598505638 -6.3101840539531793 -0.72723183475146425 -0.82667241371227207 0.72848214094215025 5.6397232136516209 0.87792155542524952 -0.01810421074570592 -3.2999016266035484 -1.0332020221550258 0.82662540944516738 -2.2012825621925325 -2.585472186933409 0.20207503449173489 1.0132303318901821 -0.16642777526838182 1.1907545679761331 -2.7369935522345883 -0.70952084057125153 -0.0669943956037998 -1.7076042143754866 -0.80680248470852411 -0.29371720451718825 0.70878702971575802 -1.2511359808724112 -2.8401849841388405 1.2171829355116905 1.0235384229797564 -0.41227414098332876;1.9210156210662301 4.8358061926835179 3.0273310208465674 0.78203484369558052 -1.5316670804861889 -0.044255846785903434 0.94464248407509788 -0.87861677877303501 1.0078544635543185 -0.50605162175014051 1.1548850585627486 -1.5979060795095421 0.74478821303653042 1.5070725267298624 -2.5019007369897324 -1.062604837171045 -4.0312284639586409 -0.02634606074954909 1.4499653380930451 2.898105532084065 0.53533844380397344 1.9795763888908116 -1.512750598495852 -3.4237601775246942 -2.095363548497696 2.3666468165335885 -5.3077064613243001 -5.2863911875903762 4.4304814678955831 0.23695951929480302 -0.35231385802686643 -1.0025925931866697 -3.0014131231583963 0.53675672123356255 -1.6335569193755402 2.4833969418819577 -0.76285851732586041 1.0554385029783016 2.1875195696981962 2.1933061065273556 -0.51286041024490991 6.0912197995589255 1.2068853012040108 -2.7639574750579774 3.6965858076436087 2.5086808583144613 -1.5870335266474169 -0.3623900189400226 -0.59324867226848954 0.32526016168090932;0.26368288331756523 1.7416326010802841 -3.1073570293646542 -2.32707972210939 2.9873551608959055 1.1276342008637956 -7.5612169832200005 0.50586609970195273 3.8926809903538384 -0.89202159575521911 0.73484573489895177 1.5272277571027031 -1.0273151716146114 -0.47844839617238943 -0.96916947036856138 -2.352831938487062 0.26888133148315463 2.81384940398104 -0.7015152990945418 -3.2786292996224291 4.4706117694825558 1.9012995379025031 0.89161398591478147 -0.39083593217532692 1.9448023642365133 3.1775669965641438 -0.52090592918807643 -1.1722757464760025 0.60306353673547419 1.6398638718916001 -1.5731153000618161 2.0498731519494671 -0.20315474148695384 1.8263674888771133 0.70278795110691961 -1.0311828735660533 0.75986424893163262 -0.7353718432975942 0.11162378066939217 -0.65720907210839574 -1.818863551420751 -1.7954958883988925 6.2148573914427674 -0.35474729023205759 5.2612539010642978 -1.9200014084607933 -0.077040980569665712 -0.96578302289926621 -0.30077816846249494 -1.6451094050122825;-0.34308674584025545 2.1932774719626131 0.29781031920983325 -5.2612171878254328 -0.5797328895798094 0.81923315089283522 -10.399684287822831 1.3172030832316115 0.19427969117685015 0.091692174055095096 1.4158193047338465 0.1049652406642145 0.10219839223446767 1.8294875568374394 0.7773810891373556 -0.57519300419019403 -1.0796708377755553 1.4282639614242119 -2.6155307036793336 0.62691673853293117 -10.086440653538499 0.51129351108617238 1.0383816275075781 -0.25144642023288905 0.02636206184492465 1.4863909877887118 -0.48520318915421845 0.81052669607792949 -0.41569270675327419 0.79468146401826978 -6.8203151782171556 -0.4920056638922703 -0.68035291012616017 -1.0064170046017922 -0.025614033985077032 0.068135454626848641 -0.09065603693173159 -0.15416571607791121 0.73228285455981557 0.98669874726444828 0.37222459609274633 1.895377574152177 7.4333337962716595 0.43562802582972593 4.6969381702607667 0.8700303801450211 3.7098409514753485 2.6783617791246863 0.29504224684741492 2.7607837388054577;-9.3334883558126322e-08 -4.6286913631557591e-08 1.2615641383973943e-08 0.010496299975098506 -4.6630995252845612e-08 -8.6610443190818902e-09 0.016794088158565264 3.6276299310725698e-08 -4.240178719613118e-08 -1.0572336740858826e-08 -1.0895656377786879e-08 -3.6626486050519642e-08 6.3032384105015338e-08 -5.4480824759268998e-08 1.5427959826485578e-09 -6.5856387499398706e-08 8.5510533781832431e-08 -6.7976893637412115e-08 0.0031488440737604639 -2.7158520213283463e-08 0.0062979667195667806 -8.0410558056045235e-08 -4.9019858987414192e-08 2.6320797890879203e-08 -7.3716921327175981e-08 8.364798326806192e-08 2.3786569494857888e-08 -8.548939191815356e-08 1.0585502724384429e-07 -5.2085289947300005e-08 0.012595445650317982 1.6478180489815921e-08 6.0149480854128713e-09 -1.8986296197817114e-08 -6.3024238045050571e-08 -1.3101473783768291e-07 -2.5172581527222525e-09 5.1515674596052385e-08 0.0094462975301032176 -1.4845475766889581e-08 -1.291802736587074e-08 -1.082819394460241e-07 -9.1887910933903098e-08 -3.3677499498163179e-08 0.0020991592540735913 5.6180421139203756e-09 -1.2725044330490703e-07 -4.5787024137847478e-08 -5.8801934369047528e-08 -1.1154119796342383e-07;-1.4863671045801734 0.22155826202855694 1.317755026781759 7.6111040434718973 -2.4976690291806878 0.99610447895064835 11.051874783991437 0.20938406561576262 -2.4789948130314685 1.2377707815340668 -0.87399236473501285 -1.1903055575768842 0.15414155818355674 2.4693264367079291 1.3218639395297567 -1.6778782204781695 -0.068490404751813672 2.728846292811379 0.4331712497730279 -1.4570432345358064 6.3743764416022959 1.3742251981959679 -1.0510952489018279 -0.89216106187775635 -3.6678234523171334 -1.8024591408469404 1.1547504528807853 0.65897434595255244 0.29575002369067699 -1.6224982670099373 6.386762835024447 -0.054829934156731888 -4.7473805220948559 -1.2419285630261427 -1.2325595879176101 -3.1860524608822787 -2.7690941865801113 -0.070123066627729477 0.80514870311226205 0.11614204459387581 -2.148559053365688 -0.21856038467447902 1.4127930986344308 -0.80097648331232185 -1.5608295978684228 -0.3000072664598375 -1.8510448451337909 0.62774157117178997 -1.3371413063996731 0.47642107969319919;-0.09371567627399606 1.2700476229461573 -0.40162621638511692 -26.187657083870256 -0.71790036132637081 0.18724092597819925 -44.962765122410673 0.82458263675095134 -0.1396221929183516 0.33402287797602864 1.5096245894841192 0.0032779186800255679 0.87033379896362517 0.57537173681060916 0.35604881964035157 -0.093799104643404629 -0.26228752054179344 -0.14789842661499208 -16.231785440338044 -0.10179537939011243 -65.863347010618014 -0.48688145489226703 0.95748648684080795 -0.41048421628191412 -0.33632429961388782 2.0195736031435332 -0.41909038249216674 0.04610556300786952 -0.014324321469728382 0.78014560668566668 50.786953367015634 -0.94592731332524838 -0.39145634658461065 -0.72804945977711821 0.037701961406134681 -0.97673132393413487 -0.36995212588833143 -0.32834979531582109 2.2697170693493791 0.16275561861982277 0.028105826013480145 0.59652543292204074 0.33132178232888043 -0.76745232763967575 13.276100711637776 0.31866641506596899 -0.1408396840190631 1.4010061279491837 -0.23851124368030791 0.81066351421577998];

% Layer 2
b2 = 0.38855567551627695;
LW2_1 = [-5.5063724793172301e-06 -0.68774184042497033 -8.8852383312869691e-07 -5.5271541103527312e-07 1.9093957465395737e-05 36.648362113169327 -1.5167805931217974e-05 -0.038470564999763257];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0769230769230769;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
